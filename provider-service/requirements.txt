from fastapi import FastAPI
from pydantic import BaseModel

class Provider(BaseModel):
    id: int
    name: str
    specialties: list[str]

app = FastAPI()

providers = []

@app.post("/providers/")
def create_provider(provider: Provider):
    providers.append(provider)
    return provider

@app.get("/providers/")
def get_providers():
    return providers

@app.get("/providers/{provider_id}")
def get_provider(provider_id: int):
    for provider in providers:
        if provider.id == provider_id:
            return provider
    return {"error": "Provider not found"}

@app.put("/providers/{provider_id}")
def update_provider(provider_id: int, updated_provider: Provider):
    for index, provider in enumerate(providers):
        if provider.id == provider_id:
            providers[index] = updated_provider
            return updated_provider
    return {"error": "Provider not found"}

@app.delete("/providers/{provider_id}")
def delete_provider(provider_id: int):
    for index, provider in enumerate(providers):
        if provider.id == provider_id:
            providers.pop(index)
            return {"message": "Provider deleted"}
    return {"error": "Provider not found"}